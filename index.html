<!doctype html>
<html lang="ru" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–° –î–Ω–µ–º –†–æ–∂–¥–µ–Ω–∏—è –ù—É—Ä–±–∏–π–∫–µ</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <style>
        body {
            box-sizing: border-box;
        }
        
        .birthday-animation {
            animation: bounce 2s ease-in-out infinite;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-20px); }
            60% { transform: translateY(-10px); }
        }
        
        .balloon-float {
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }
        
        .sparkle {
            animation: sparkle 1.5s ease-in-out infinite;
        }
        
        @keyframes sparkle {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.2); }
        }
        
        .confetti {
            animation: confetti 3s linear infinite;
        }
        
        @keyframes confetti {
            0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }
        
        .fade-in {
            animation: fadeIn 0.6s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .gradient-text {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradientShift 3s ease infinite;
        }
        
        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .firework {
            position: fixed;
            pointer-events: none;
            z-index: 1000;
            animation: fireworkExplode 2s ease-out forwards;
        }
        
        @keyframes fireworkExplode {
            0% { transform: scale(0) rotate(0deg); opacity: 1; }
            50% { transform: scale(1.5) rotate(180deg); opacity: 1; }
            100% { transform: scale(2) rotate(360deg); opacity: 0; }
        }
        
        .heart-float {
            position: fixed;
            pointer-events: none;
            z-index: 1000;
            animation: heartFloat 3s ease-out forwards;
        }
        
        @keyframes heartFloat {
            0% { transform: translateY(0) scale(0); opacity: 1; }
            50% { transform: translateY(-200px) scale(1.2); opacity: 1; }
            100% { transform: translateY(-400px) scale(0.8); opacity: 0; }
        }
        
        .star-twinkle {
            position: fixed;
            pointer-events: none;
            z-index: 1000;
            animation: starTwinkle 2s ease-out forwards;
        }
        
        @keyframes starTwinkle {
            0% { transform: scale(0) rotate(0deg); opacity: 1; }
            25% { transform: scale(1.5) rotate(90deg); opacity: 1; }
            50% { transform: scale(1) rotate(180deg); opacity: 1; }
            75% { transform: scale(1.5) rotate(270deg); opacity: 1; }
            100% { transform: scale(0) rotate(360deg); opacity: 0; }
        }
        
        .rainbow-arc {
            position: fixed;
            pointer-events: none;
            z-index: 1000;
            animation: rainbowAppear 3s ease-out forwards;
        }
        
        @keyframes rainbowAppear {
            0% { transform: scale(0) translateY(100px); opacity: 0; }
            50% { transform: scale(1) translateY(0); opacity: 1; }
            100% { transform: scale(1.2) translateY(-50px); opacity: 0; }
        }
        
        .cake-bounce {
            animation: cakeBounce 1s ease-in-out;
        }
        
        @keyframes cakeBounce {
            0%, 100% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.2) rotate(-5deg); }
            50% { transform: scale(1.3) rotate(0deg); }
            75% { transform: scale(1.2) rotate(5deg); }
        }
        
        .pulse-glow {
            animation: pulseGlow 2s ease-in-out infinite;
        }
        
        @keyframes pulseGlow {
            0%, 100% { box-shadow: 0 0 20px rgba(255, 107, 157, 0.5); }
            50% { box-shadow: 0 0 40px rgba(255, 107, 157, 0.8); }
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="h-full font-sans">
  <div class="min-h-full relative overflow-hidden" style="background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);"><!-- Floating Confetti -->
   <div class="fixed inset-0 pointer-events-none z-10">
    <div class="confetti absolute text-2xl" style="left: 10%; animation-delay: 0s;">
     üéâ
    </div>
    <div class="confetti absolute text-2xl" style="left: 20%; animation-delay: 0.5s;">
     üéä
    </div>
    <div class="confetti absolute text-2xl" style="left: 30%; animation-delay: 1s;">
     ‚ú®
    </div>
    <div class="confetti absolute text-2xl" style="left: 40%; animation-delay: 1.5s;">
     üéà
    </div>
    <div class="confetti absolute text-2xl" style="left: 50%; animation-delay: 2s;">
     üéâ
    </div>
    <div class="confetti absolute text-2xl" style="left: 60%; animation-delay: 2.5s;">
     üéä
    </div>
    <div class="confetti absolute text-2xl" style="left: 70%; animation-delay: 0.3s;">
     ‚ú®
    </div>
    <div class="confetti absolute text-2xl" style="left: 80%; animation-delay: 0.8s;">
     üéà
    </div>
    <div class="confetti absolute text-2xl" style="left: 90%; animation-delay: 1.3s;">
     üéâ
    </div>
   </div><!-- Header -->
   <header class="text-center py-16 px-4 relative z-20">
    <div id="cake-emoji" class="balloon-float inline-block text-8xl mb-6 cursor-pointer" onclick="showCakeAnimation()">
     üéÇ
    </div>
    <h1 id="main-greeting" class="text-6xl font-bold mb-4 birthday-animation gradient-text">–° –î–Ω–µ–º –†–æ–∂–¥–µ–Ω–∏—è!</h1>
    <h2 id="birthday-person" class="text-4xl font-bold mb-6" style="color: #e91e63;">–ù—É—Ä–±–∏–π–∫–µ</h2>
    <p id="subtitle-text" class="text-2xl" style="color: #8e24aa;">–ñ–µ–ª–∞–µ–º —Å—á–∞—Å—Ç—å—è –∏ —Ä–∞–¥–æ—Å—Ç–∏!</p><!-- Floating Balloons -->
    <div class="flex justify-center space-x-4 mt-8">
     <div class="balloon-float text-6xl cursor-pointer" style="animation-delay: 0s;" onclick="popBalloon(this)">
      üéà
     </div>
     <div class="balloon-float text-6xl cursor-pointer" style="animation-delay: 0.5s;" onclick="popBalloon(this)">
      üéà
     </div>
     <div class="balloon-float text-6xl cursor-pointer" style="animation-delay: 1s;" onclick="popBalloon(this)">
      üéà
     </div>
     <div class="balloon-float text-6xl cursor-pointer" style="animation-delay: 1.5s;" onclick="popBalloon(this)">
      üéà
     </div>
    </div>
   </header><!-- Birthday Wishes Section -->
   <section class="max-w-4xl mx-auto px-4 mb-12 relative z-20">
    <div class="text-center p-8 rounded-3xl shadow-2xl" style="background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%); border: 3px solid #ff6b9d;">
     <div class="sparkle text-5xl mb-6">
      ‚ú®
     </div>
     <h2 class="text-3xl font-bold mb-6" style="color: #e91e63;">–ü—É—Å—Ç—å —ç—Ç–æ—Ç –¥–µ–Ω—å –±—É–¥–µ—Ç –æ—Å–æ–±–µ–Ω–Ω—ã–º!</h2>
     <div class="text-lg leading-relaxed space-y-4" style="color: #5d4e75;">
      <p class="text-xl font-medium">üåü –î–æ—Ä–æ–≥–∞—è –ù—É—Ä–±–∏–π–∫–µ! üåü</p>
      <p>–í —ç—Ç–æ—Ç –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–π –¥–µ–Ω—å –º—ã —Ö–æ—Ç–∏–º –ø–æ–∂–µ–ª–∞—Ç—å —Ç–µ–±–µ:</p>
      <div class="grid md:grid-cols-2 gap-6 my-8">
       <div class="p-4 rounded-xl cursor-pointer transform transition-all duration-300 hover:scale-105" style="background-color: #fff3e0; border-left: 4px solid #ff9800;" onclick="showWishEffect(this, 'üíñ')">
        <div class="text-2xl mb-2">
         üíñ
        </div>
        <p class="font-semibold text-orange-800">–ë–µ–∑–≥—Ä–∞–Ω–∏—á–Ω–æ–≥–æ —Å—á–∞—Å—Ç—å—è –∏ –ª—é–±–≤–∏ –±–ª–∏–∑–∫–∏—Ö</p>
       </div>
       <div class="p-4 rounded-xl cursor-pointer transform transition-all duration-300 hover:scale-105" style="background-color: #e8f5e8; border-left: 4px solid #4caf50;" onclick="showWishEffect(this, 'üåà')">
        <div class="text-2xl mb-2">
         üåà
        </div>
        <p class="font-semibold text-green-800">–Ø—Ä–∫–∏—Ö –∫—Ä–∞—Å–æ–∫ –≤ –∫–∞–∂–¥–æ–º –¥–Ω–µ</p>
       </div>
       <div class="p-4 rounded-xl cursor-pointer transform transition-all duration-300 hover:scale-105" style="background-color: #e3f2fd; border-left: 4px solid #2196f3;" onclick="showWishEffect(this, '‚≠ê')">
        <div class="text-2xl mb-2">
         ‚≠ê
        </div>
        <p class="font-semibold text-blue-800">–ò—Å–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–≤–µ—Ç–Ω—ã—Ö –∂–µ–ª–∞–Ω–∏–π</p>
       </div>
       <div class="p-4 rounded-xl cursor-pointer transform transition-all duration-300 hover:scale-105" style="background-color: #fce4ec; border-left: 4px solid #e91e63;" onclick="showWishEffect(this, 'üéØ')">
        <div class="text-2xl mb-2">
         üéØ
        </div>
        <p class="font-semibold text-pink-800">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –≤—Å–µ—Ö —Ü–µ–ª–µ–π –∏ –º–µ—á—Ç</p>
       </div>
      </div>
      <p class="text-xl font-bold italic" style="color: #8e24aa;">–ü—É—Å—Ç—å –∫–∞–∂–¥—ã–π –Ω–æ–≤—ã–π –≥–æ–¥ –∂–∏–∑–Ω–∏ –ø—Ä–∏–Ω–æ—Å–∏—Ç —Ç–æ–ª—å–∫–æ —Ä–∞–¥–æ—Å—Ç—å! üéâ</p>
     </div>
    </div>
   </section><!-- Interactive Surprise Buttons -->
   <section class="max-w-4xl mx-auto px-4 mb-12 relative z-20">
    <div class="text-center p-8 rounded-3xl shadow-2xl pulse-glow" style="background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%); border: 3px solid #ff6b9d;">
     <h2 class="text-3xl font-bold mb-6" style="color: #e91e63;">üéÅ –ù–∞–∂–º–∏ –Ω–∞ —Å—é—Ä–ø—Ä–∏–∑—ã! üéÅ</h2>
     <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8"><button onclick="showFireworks()" class="surprise-btn p-4 rounded-2xl shadow-lg transform transition-all duration-300 hover:scale-110 hover:rotate-3" style="background: linear-gradient(135deg, #ff6b9d 0%, #c2185b 100%); color: white;">
       <div class="text-4xl mb-2">
        üéÜ
       </div>
       <div class="text-sm font-bold">
        –°–∞–ª—é—Ç!
       </div></button> <button onclick="showHearts()" class="surprise-btn p-4 rounded-2xl shadow-lg transform transition-all duration-300 hover:scale-110 hover:rotate-3" style="background: linear-gradient(135deg, #ff6b9d 0%, #c2185b 100%); color: white;">
       <div class="text-4xl mb-2">
        üíï
       </div>
       <div class="text-sm font-bold">
        –°–µ—Ä–¥–µ—á–∫–∏
       </div></button> <button onclick="showStars()" class="surprise-btn p-4 rounded-2xl shadow-lg transform transition-all duration-300 hover:scale-110 hover:rotate-3" style="background: linear-gradient(135deg, #ff6b9d 0%, #c2185b 100%); color: white;">
       <div class="text-4xl mb-2">
        ‚≠ê
       </div>
       <div class="text-sm font-bold">
        –ó–≤—ë–∑–¥—ã
       </div></button> <button onclick="showRainbow()" class="surprise-btn p-4 rounded-2xl shadow-lg transform transition-all duration-300 hover:scale-110 hover:rotate-3" style="background: linear-gradient(135deg, #ff6b9d 0%, #c2185b 100%); color: white;">
       <div class="text-4xl mb-2">
        üåà
       </div>
       <div class="text-sm font-bold">
        –†–∞–¥—É–≥–∞
       </div></button>
     </div>
     <p class="text-lg" style="color: #8e24aa;">–ö–∞–∂–¥–∞—è –∫–Ω–æ–ø–∫–∞ - —ç—Ç–æ –º–∞–ª–µ–Ω—å–∫–∏–π —Å—é—Ä–ø—Ä–∏–∑ –¥–ª—è —Ç–µ–±—è! ‚ú®</p>
    </div>
   </section><!-- Personal Message -->
   <main class="max-w-4xl mx-auto px-4 pb-12 relative z-20">
    <div class="mb-12">
     <div class="max-w-3xl mx-auto p-10 rounded-3xl shadow-2xl" style="background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%); border: 3px solid #ff6b9d;">
      <div class="text-center mb-8">
       <div class="text-6xl mb-4 cursor-pointer" onclick="showCakeAnimation()">
        üíå
       </div>
       <h2 class="text-3xl font-bold mb-4" style="color: #e91e63;">–û—Å–æ–±–µ–Ω–Ω–æ–µ –ø–æ–∂–µ–ª–∞–Ω–∏–µ –¥–ª—è —Ç–µ–±—è</h2>
      </div>
      <div class="text-lg leading-relaxed space-y-6" style="color: #5d4e75;">
       <p class="text-center text-2xl font-bold" style="color: #e91e63;">üåü –î–æ—Ä–æ–≥–∞—è –ù—É—Ä–±–∏–π–∫–µ! üåü</p>
       <p class="text-xl text-center italic" style="color: #8e24aa;">–í —ç—Ç–æ—Ç –æ—Å–æ–±–µ–Ω–Ω—ã–π –¥–µ–Ω—å —è —Ö–æ—á—É –ø–æ–∂–µ–ª–∞—Ç—å —Ç–µ–±–µ —Å–∞–º–æ–≥–æ –≥–ª–∞–≤–Ω–æ–≥–æ...</p>
       <div class="bg-gradient-to-r from-pink-50 to-purple-50 p-6 rounded-2xl border-l-4" style="border-color: #ff6b9d;">
        <p class="text-lg mb-4">–ü—É—Å—Ç—å –∫–∞–∂–¥—ã–π –Ω–æ–≤—ã–π –¥–µ–Ω—å –ø—Ä–∏–Ω–æ—Å–∏—Ç —Ç–µ–±–µ –º–æ—Ä–µ —É–ª—ã–±–æ–∫ –∏ –æ–∫–µ–∞–Ω —Å—á–∞—Å—Ç—å—è! üòä –ñ–µ–ª–∞—é, —á—Ç–æ–±—ã –≤—Å–µ —Ç–≤–æ–∏ –º–µ—á—Ç—ã —Å–±—ã–≤–∞–ª–∏—Å—å, –∞ –∂–∏–∑–Ω—å –±—ã–ª–∞ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∞ —è—Ä–∫–∏–º–∏ –∫—Ä–∞—Å–∫–∞–º–∏ –∏ –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã–º–∏ –º–æ–º–µ–Ω—Ç–∞–º–∏.</p>
        <p class="text-lg mb-4">–ü—É—Å—Ç—å —Ä—è–¥–æ–º —Å —Ç–æ–±–æ–π –≤—Å–µ–≥–¥–∞ –±—É–¥—É—Ç –ª—é–¥–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ü–µ–Ω—è—Ç –∏ –ª—é–±—è—Ç —Ç–µ–±—è —Ç–∞–∫–æ–π, –∫–∞–∫–∞—è —Ç—ã –µ—Å—Ç—å. üíï –ñ–µ–ª–∞—é –∫—Ä–µ–ø–∫–æ–≥–æ –∑–¥–æ—Ä–æ–≤—å—è, –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è –¥–ª—è –Ω–æ–≤—ã—Ö —Å–≤–µ—Ä—à–µ–Ω–∏–π –∏ —ç–Ω–µ—Ä–≥–∏–∏ –¥–ª—è –≤–æ–ø–ª–æ—â–µ–Ω–∏—è –≤—Å–µ—Ö –ø–ª–∞–Ω–æ–≤!</p>
        <p class="text-lg mb-4">–ü—É—Å—Ç—å —ç—Ç–æ—Ç –Ω–æ–≤—ã–π –≥–æ–¥ –∂–∏–∑–Ω–∏ —Å—Ç–∞–Ω–µ—Ç —Å–∞–º—ã–º —è—Ä–∫–∏–º –∏ —É—Å–ø–µ—à–Ω—ã–º! ‚ú® –ñ–µ–ª–∞—é —Ç–µ–±–µ –Ω–∞—Ö–æ–¥–∏—Ç—å —Ä–∞–¥–æ—Å—Ç—å –≤ –º–µ–ª–æ—á–∞—Ö, —Å–º–µ—è—Ç—å—Å—è –æ—Ç –¥—É—à–∏ –∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Ç–µ—Ä—è—Ç—å –≤–µ—Ä—É –≤ —á—É–¥–µ—Å–∞.</p>
       </div>
       <div class="text-center py-6">
        <div class="inline-flex items-center space-x-4 text-4xl"><span class="cursor-pointer" onclick="showWishEffect(this, 'üéÇ')">üéÇ</span> <span class="cursor-pointer" onclick="showWishEffect(this, 'üéà')">üéà</span> <span class="cursor-pointer" onclick="showWishEffect(this, 'üéâ')">üéâ</span> <span class="cursor-pointer" onclick="showWishEffect(this, 'üéä')">üéä</span> <span class="cursor-pointer" onclick="showWishEffect(this, '‚ú®')">‚ú®</span>
        </div>
       </div>
       <div class="bg-gradient-to-r from-yellow-50 to-orange-50 p-6 rounded-2xl text-center">
        <p class="text-xl font-bold mb-2" style="color: #e91e63;">–° –¥–Ω–µ–º —Ä–æ–∂–¥–µ–Ω–∏—è, –¥–æ—Ä–æ–≥–∞—è! üéÅ</p>
        <p class="text-lg italic" style="color: #8e24aa;">–ü—É—Å—Ç—å —ç—Ç–æ—Ç –¥–µ–Ω—å –∑–∞–ø–æ–º–Ω–∏—Ç—Å—è —Ç–µ–±–µ –Ω–∞–≤—Å–µ–≥–¥–∞ –∫–∞–∫ –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö —Å—á–∞—Å—Ç–ª–∏–≤—ã—Ö!</p>
       </div>
       <div class="text-center mt-8">
        <p class="text-lg font-semibold" style="color: #8e24aa;">–° –ª—é–±–æ–≤—å—é –∏ –Ω–∞–∏–ª—É—á—à–∏–º–∏ –ø–æ–∂–µ–ª–∞–Ω–∏—è–º–∏! üíñ</p>
       </div>
      </div>
     </div>
    </div>
   </main>
  </div>
  <script>
        // Configuration
        const defaultConfig = {
            birthday_person: "–ù—É—Ä–±–∏–π–∫–µ",
            main_greeting: "–° –î–Ω–µ–º –†–æ–∂–¥–µ–Ω–∏—è!",
            subtitle_text: "–ñ–µ–ª–∞–µ–º —Å—á–∞—Å—Ç—å—è –∏ —Ä–∞–¥–æ—Å—Ç–∏!",
            form_title: "–û—Å—Ç–∞–≤—å—Ç–µ —Å–≤–æ–µ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ",
            button_text: "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ",
            background_color: "#ff9a9e",
            surface_color: "#ffffff",
            text_color: "#e91e63",
            primary_action_color: "#ff6b9d",
            secondary_action_color: "#8e24aa",
            font_family: "sans-serif",
            font_size: 16
        };

        let currentGreetings = [];
        let isLoading = false;

        // Interactive Effects Functions
        function showFireworks() {
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    createFirework();
                }, i * 100);
            }
        }

        function createFirework() {
            const firework = document.createElement('div');
            firework.className = 'firework';
            firework.style.left = Math.random() * window.innerWidth + 'px';
            firework.style.top = Math.random() * window.innerHeight + 'px';
            firework.style.fontSize = '3rem';
            firework.textContent = ['üéÜ', '‚ú®', 'üí•', 'üåü'][Math.floor(Math.random() * 4)];
            document.body.appendChild(firework);
            
            setTimeout(() => {
                firework.remove();
            }, 2000);
        }

        function showHearts() {
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    createHeart();
                }, i * 150);
            }
        }

        function createHeart() {
            const heart = document.createElement('div');
            heart.className = 'heart-float';
            heart.style.left = Math.random() * window.innerWidth + 'px';
            heart.style.bottom = '0px';
            heart.style.fontSize = '2rem';
            heart.textContent = ['üíï', 'üíñ', 'üíó', 'üíù', '‚ù§Ô∏è'][Math.floor(Math.random() * 5)];
            document.body.appendChild(heart);
            
            setTimeout(() => {
                heart.remove();
            }, 3000);
        }

        function showStars() {
            for (let i = 0; i < 25; i++) {
                setTimeout(() => {
                    createStar();
                }, i * 80);
            }
        }

        function createStar() {
            const star = document.createElement('div');
            star.className = 'star-twinkle';
            star.style.left = Math.random() * window.innerWidth + 'px';
            star.style.top = Math.random() * window.innerHeight + 'px';
            star.style.fontSize = '2.5rem';
            star.textContent = ['‚≠ê', '‚ú®', 'üåü', 'üí´'][Math.floor(Math.random() * 4)];
            document.body.appendChild(star);
            
            setTimeout(() => {
                star.remove();
            }, 2000);
        }

        function showRainbow() {
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    createRainbow();
                }, i * 300);
            }
        }

        function createRainbow() {
            const rainbow = document.createElement('div');
            rainbow.className = 'rainbow-arc';
            rainbow.style.left = Math.random() * (window.innerWidth - 200) + 'px';
            rainbow.style.top = Math.random() * (window.innerHeight - 200) + 'px';
            rainbow.style.fontSize = '4rem';
            rainbow.textContent = 'üåà';
            document.body.appendChild(rainbow);
            
            setTimeout(() => {
                rainbow.remove();
            }, 3000);
        }

        function showCakeAnimation() {
            const cake = document.getElementById('cake-emoji');
            cake.classList.add('cake-bounce');
            
            // Create sparkles around the cake
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    const sparkle = document.createElement('div');
                    sparkle.className = 'star-twinkle';
                    sparkle.style.left = (cake.offsetLeft + Math.random() * 100 - 50) + 'px';
                    sparkle.style.top = (cake.offsetTop + Math.random() * 100 - 50) + 'px';
                    sparkle.style.fontSize = '1.5rem';
                    sparkle.textContent = '‚ú®';
                    document.body.appendChild(sparkle);
                    
                    setTimeout(() => {
                        sparkle.remove();
                    }, 2000);
                }, i * 100);
            }
            
            setTimeout(() => {
                cake.classList.remove('cake-bounce');
            }, 1000);
        }

        function popBalloon(balloon) {
            balloon.style.transform = 'scale(1.5)';
            balloon.textContent = 'üí•';
            
            // Create confetti explosion
            for (let i = 0; i < 8; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'firework';
                    confetti.style.left = balloon.offsetLeft + 'px';
                    confetti.style.top = balloon.offsetTop + 'px';
                    confetti.style.fontSize = '1.5rem';
                    confetti.textContent = ['üéâ', 'üéä', '‚ú®'][Math.floor(Math.random() * 3)];
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => {
                        confetti.remove();
                    }, 2000);
                }, i * 50);
            }
            
            setTimeout(() => {
                balloon.textContent = 'üéà';
                balloon.style.transform = 'scale(1)';
            }, 2000);
        }

        function showWishEffect(element, emoji) {
            // Create floating effect from the clicked element
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    const effect = document.createElement('div');
                    effect.className = 'heart-float';
                    effect.style.left = (element.offsetLeft + Math.random() * element.offsetWidth) + 'px';
                    effect.style.top = (element.offsetTop + element.offsetHeight) + 'px';
                    effect.style.fontSize = '2rem';
                    effect.textContent = emoji;
                    document.body.appendChild(effect);
                    
                    setTimeout(() => {
                        effect.remove();
                    }, 3000);
                }, i * 100);
            }
            
            // Add temporary glow effect
            element.style.boxShadow = '0 0 30px rgba(255, 107, 157, 0.8)';
            setTimeout(() => {
                element.style.boxShadow = '';
            }, 1000);
        }

        // Data SDK Handler
        const dataHandler = {
            onDataChanged(data) {
                currentGreetings = data;
                renderGreetings();
            }
        };

        // Initialize Data SDK
        async function initializeApp() {
            if (window.dataSdk) {
                const result = await window.dataSdk.init(dataHandler);
                if (!result.isOk) {
                    console.error("Failed to initialize data SDK");
                }
            }
        }

        function renderGreetings() {
            // This function is kept for compatibility but not used in current design
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('ru-RU', {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
        }

        // Element SDK Implementation
        async function onConfigChange(config) {
            const baseSize = config.font_size || defaultConfig.font_size;
            const customFont = config.font_family || defaultConfig.font_family;
            const baseFontStack = 'Arial, sans-serif';

            // Update text content
            document.getElementById('birthday-person').textContent = config.birthday_person || defaultConfig.birthday_person;
            document.getElementById('main-greeting').textContent = config.main_greeting || defaultConfig.main_greeting;
            document.getElementById('subtitle-text').textContent = config.subtitle_text || defaultConfig.subtitle_text;

            // Update colors
            const backgroundColor = config.background_color || defaultConfig.background_color;
            const surfaceColor = config.surface_color || defaultConfig.surface_color;
            const textColor = config.text_color || defaultConfig.text_color;
            const primaryActionColor = config.primary_action_color || defaultConfig.primary_action_color;
            const secondaryActionColor = config.secondary_action_color || defaultConfig.secondary_action_color;

            document.querySelector('.min-h-full').style.background = `linear-gradient(135deg, ${backgroundColor} 0%, #fecfef 50%, #fecfef 100%)`;
            
            // Update text colors
            document.getElementById('birthday-person').style.color = textColor;
            
            // Update buttons
            document.querySelectorAll('.surprise-btn').forEach(btn => {
                btn.style.background = `linear-gradient(135deg, ${primaryActionColor} 0%, #c2185b 100%)`;
            });

            // Update font family
            document.body.style.fontFamily = `${customFont}, ${baseFontStack}`;

            // Update font sizes
            document.getElementById('main-greeting').style.fontSize = `${baseSize * 3.75}px`;
            document.getElementById('birthday-person').style.fontSize = `${baseSize * 2.5}px`;
            document.getElementById('subtitle-text').style.fontSize = `${baseSize * 1.5}px`;
        }

        // Element SDK initialization
        if (window.elementSdk) {
            window.elementSdk.init({
                defaultConfig,
                onConfigChange,
                mapToCapabilities: (config) => ({
                    recolorables: [
                        {
                            get: () => config.background_color || defaultConfig.background_color,
                            set: (value) => {
                                config.background_color = value;
                                window.elementSdk.setConfig({ background_color: value });
                            }
                        },
                        {
                            get: () => config.surface_color || defaultConfig.surface_color,
                            set: (value) => {
                                config.surface_color = value;
                                window.elementSdk.setConfig({ surface_color: value });
                            }
                        },
                        {
                            get: () => config.text_color || defaultConfig.text_color,
                            set: (value) => {
                                config.text_color = value;
                                window.elementSdk.setConfig({ text_color: value });
                            }
                        },
                        {
                            get: () => config.primary_action_color || defaultConfig.primary_action_color,
                            set: (value) => {
                                config.primary_action_color = value;
                                window.elementSdk.setConfig({ primary_action_color: value });
                            }
                        },
                        {
                            get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
                            set: (value) => {
                                config.secondary_action_color = value;
                                window.elementSdk.setConfig({ secondary_action_color: value });
                            }
                        }
                    ],
                    borderables: [],
                    fontEditable: {
                        get: () => config.font_family || defaultConfig.font_family,
                        set: (value) => {
                            config.font_family = value;
                            window.elementSdk.setConfig({ font_family: value });
                        }
                    },
                    fontSizeable: {
                        get: () => config.font_size || defaultConfig.font_size,
                        set: (value) => {
                            config.font_size = value;
                            window.elementSdk.setConfig({ font_size: value });
                        }
                    }
                }),
                mapToEditPanelValues: (config) => new Map([
                    ["birthday_person", config.birthday_person || defaultConfig.birthday_person],
                    ["main_greeting", config.main_greeting || defaultConfig.main_greeting],
                    ["subtitle_text", config.subtitle_text || defaultConfig.subtitle_text]
                ])
            });
        }

        // Initialize app
        initializeApp();
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99f6260182090db3',t:'MTc2MzI4NzMwMi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>